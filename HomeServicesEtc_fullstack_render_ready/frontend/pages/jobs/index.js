import useSWR from 'swr';
export default function Jobs(){ const {data} = useSWR('/api/jobs', (u)=>fetch(u).then(r=>r.json())); return (<div style={{padding:20}}><h2>Jobs</h2>{data ? data.map(j=>(<div key={j._id} style={{border:'1px solid #ddd', padding:8, margin:8}}><h3>{j.title}</h3><p>{j.description}</p><button onClick={async ()=>{ const token = prompt('Enter provider token'); const resp = await fetch('/api/jobs/'+j._id+'/apply',{method:'POST',headers:{'Content-Type':'application/json','Authorization':'Bearer '+token},body:JSON.stringify({bidAmount:100})}); const jj=await resp.json(); alert(JSON.stringify(jj)); }}>Apply (consume quota)</button></div>)) : 'Loading...'}</div>); }
